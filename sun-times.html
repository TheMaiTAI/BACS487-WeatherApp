<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Sunrise/Sunset Times</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header text-center p-3 bg-dark text-white">
        <h1>Sunrise and Sunset Times</h1>
        <a href="https://themaitai.github.io/BACS487-WeatherApp/" class="btn btn-warning">Home</a>
    </div>

    <div class="container mt-4">
        <div class="card p-4 shadow-sm">
            <h2 class="text-center">Get Sunrise & Sunset Times</h2>
            <form id="sunTimeForm" class="text-center">
                <div class="mb-3">
                    <input type="text" id="latitude" class="form-control" placeholder="Enter Latitude (e.g., 40.7128)" required>
                </div>
                <div class="mb-3">
                    <input type="text" id="longitude" class="form-control" placeholder="Enter Longitude (e.g., -74.0060)" required>
                </div>
                <div class="mb-3">
                    <input type="text" id="timezone" class="form-control" placeholder="Enter Timezone (e.g., America/New_York)" required>
                </div>
                <button type="submit" class="btn btn-primary">Get Times</button>
            </form>

            <div id="results" class="mt-4 text-center">
                <h4>Sunrise: <span id="sunrise"></span></h4>
                <h4>Sunset: <span id="sunset"></span></h4>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.getElementById("sunTimeForm").addEventListener("submit", function(event) {
            event.preventDefault();
            
            let lat = document.getElementById("latitude").value;
            let lng = document.getElementById("longitude").value;
            let timezone = document.getElementById("timezone").value;
            
            fetch(`https://api.sunrise-sunset.org/json?lat=${lat}&lng=${lng}&formatted=0`)
                .then(response => response.json())
                .then(data => {
                    let sunriseUTC = new Date(data.results.sunrise);
                    let sunsetUTC = new Date(data.results.sunset);
                    
                    let sunriseLocal = sunriseUTC.toLocaleTimeString("en-US", { timeZone: timezone });
                    let sunsetLocal = sunsetUTC.toLocaleTimeString("en-US", { timeZone: timezone });

                    document.getElementById("sunrise").innerText = sunriseLocal;
                    document.getElementById("sunset").innerText = sunsetLocal;
                })
                .catch(error => console.error("Error fetching data:", error));
        });
    </script>
</body>
</html>
